# -*- coding: utf-8 -*-
'''
程序名称
@Author: AC
2017-11-26
'''
__author__ = 'AC'

##############################################
#------------------import--------------------#
############################################## 
import urllib2

##############################################
#------------------常量定义------------------#
##############################################

##############################################
#------------------函数定义------------------#
##############################################

###################################
# function
# 函数
################################### 

##############################################
#------------------类定义--------------------#
##############################################

###################################
# class
# 类
###################################

##############################################
#------------------脚本开始------------------#
##############################################
if __name__ == '__main__':
    # 主线程
    url = "http://www.baidu.com"
    proxy = urllib2.ProxyHandler({'http': '127.0.0.1:8087'})
    opener = urllib2.build_opener(proxy, )

    # 设置全局opener，以后代理默认这个
    urllib2.install_opener(opener)
    response = urllib2.urlopen(url)
    print response.read()

    # 直接用opener，以后代理不变
    response = opener.open(url)
    print response.read()